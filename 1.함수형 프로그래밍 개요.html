<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    /* 순수 함수 */
    function add(a, b) {
        return a + b;
    }

    console.log(add(10, 5));
    console.log(add(10, 5));
    console.log(add(10, 5));

    var c = 10;

    function add2(a, b) {
        return a + b + c;
    }

    console.log(add2(10, 2));
    console.log(add2(10, 3));
    console.log(add2(10, 4));

    c = 20;
    console.log(add2(10, 2));
    console.log(add2(10, 3));
    console.log(add2(10, 4));

    function add3(a, b) {
        c = b;
        return a + b;
    }

    console.log(c);
    console.log(add3(20, 30));
    console.log(c);

    var obj1 = {val: 10};

    function add4(obj, b) {
        obj.val += b;
    }

    console.log(obj1.val);
    add4(obj1, 20);
    console.log(obj1.val);

    // 다시 순수 함수
    var obj1 = {val: 10};

    function add5(obj, b) {
        return {val: obj.val + b}
    }

    add5(obj1, 20);

    console.log(obj1.val);
    var obj2 = add5(obj1, 20);
    console.log(obj1.val);
    console.log(obj2.val);

    /* 일급 함수 */
    //함수를 값처럼 사용할 수 있다.
    var f1 = function (a) {
        return a * a
    }
    console.log(f1);

    var f2 = add;
    console.log(f2);

    function f3(f) {
        return f();
    }

    console.log(f3(function () {
        return 10;
    }));
    console.log(f3(function () {
        return 20;
    }));

    /* add_maker */
    // 함수형 프로그래밍 검색시 쉽게 볼 수 있는 함수

    function add_maker(a) {
        return function (b) {
            return a + b;
        }
    }

    var add10 = add_maker(10);
    console.log(add10(20));

    var add5 = add_maker(5);
    var add15 = add_maker(15);

    console.log(add5(10));
    console.log(add15(10));

    function f4(f1, f2, f3) {
        return f3(f1() + f2());
    }

    console.log(
        f4(
            function () {
                return 1;
            },
            function () {
                return 2;
            },
            function (a) {
                return a * a;
            }));

</script>
</body>
</html>